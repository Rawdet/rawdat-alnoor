<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>Ø§Ù„Ù…ÙƒØªØ¨Ø© - Ø±ÙˆØ¶Ø© Ø§Ù„Ù†ÙˆØ±</title>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.24.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.24.0/firebase-database-compat.js"></script>

  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #f9f9f9;
      color: #333;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: #4CAF50;
      color: white;
      text-align: center;
      padding: 1rem;
    }
    main {
      padding: 2rem;
      max-width: 900px;
      margin: auto;
    }
    .resource {
      background-color: #fff;
      margin-bottom: 1rem;
      padding: 1rem;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .resource h3 {
      margin-top: 0;
    }
    a.button {
      display: inline-block;
      margin-top: 2rem;
      color: #4CAF50;
      text-decoration: none;
      font-weight: bold;
    }
    .filter-buttons button {
      padding: 10px 20px;
      margin: 5px;
      border: none;
      background: linear-gradient(135deg, #f9a825, #f57c00);
      color: white;
      border-radius: 25px;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s ease, transform 0.2s ease;
    }
    .filter-buttons button:hover {
      background: linear-gradient(135deg, #f57c00, #ef6c00);
      transform: scale(1.05);
    }
  </style>
</head>
<body>
<header>
  <h1>Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</h1>
</header>

<main>
  <div class="filter-buttons" style="text-align: center; margin-bottom: 2rem;">
    <button onclick="filterCards('all')">Ø§Ù„ÙƒÙ„</button>
    <button onclick="filterCards('audio')">ØµÙˆØªÙŠØ§Øª</button>
    <button onclick="filterCards('pdf')">PDF</button>
    <button onclick="filterCards('video')">ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</button>
  </div>

  <!-- Ø¨Ø·Ø§Ù‚Ø© ØµÙˆØªÙŠØ© -->
  <div class="resource" data-type="audio">
    <div style="position: relative;">
      <span style="background-color: #4CAF50; color: white; font-size: 12px; padding: 2px 6px; border-radius: 4px; position: absolute; top: -10px; left: -10px;">ØµÙˆØªÙŠ</span>
      <h3>ğŸ”Š Ø³ÙˆØ±Ø© Ø§Ù„ÙØ§ØªØ­Ø©</h3>
    </div>
    <p>ØªØ­Ù…ÙŠÙ„ Ù…Ù„Ù ØµÙˆØªÙŠ Ù„ØªØ¹Ù„ÙŠÙ… Ø³ÙˆØ±Ø© Ø§Ù„ÙØ§ØªØ­Ø©.</p>
    <audio controls><source src="surat-al-fatihah-kids.mp3" type="audio/mpeg"/></audio>
    <a href="surat-al-fatihah-kids.mp3" onclick="incrementDownload('fatihah-audio')" style="display: inline-block; background-color: #4CAF50; color: white; padding: 10px 20px; border-radius: 8px; text-decoration: none; font-weight: bold;" target="_blank">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙˆØ±Ø©</a>
    <p style="font-size: 12px; color: gray; margin-top: 5px;">ğŸ“¥ ØªÙ… Ø§Ù„ØªØ­Ù…ÙŠÙ„ <span id="fatihah-audio-count">0</span> Ù…Ø±Ø©</p>
  </div>

  <!-- Ø¨Ø·Ø§Ù‚Ø© PDF -->
  <div class="resource" data-type="pdf">
    <div style="position: relative;">
      <span style="background-color: #2196F3; color: white; font-size: 12px; padding: 2px 6px; border-radius: 4px; position: absolute; top: -10px; left: -10px;">PDF</span>
      <h3>ğŸ“š Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</h3>
    </div>
    <p>Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù„ÙˆÙ†Ø© Ù…Ù† Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù…Ù…ØªØ¹Ø©.</p>
    <a href="arabic-cards-new.pdf" onclick="incrementDownload('arabic-cards-new')" style="display: inline-block; background-color: #2196F3; color: white; padding: 10px 20px; border-radius: 8px; text-decoration: none; font-weight: bold;" target="_blank">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª</a>
    <p style="font-size: 12px; color: gray; margin-top: 5px;">ğŸ“¥ ØªÙ… Ø§Ù„ØªØ­Ù…ÙŠÙ„ <span id="arabic-cards-new-count">0</span> Ù…Ø±Ø©</p>
  </div>

  <!-- Ø¨Ø·Ø§Ù‚Ø© ÙÙŠØ¯ÙŠÙˆ -->
  <div class="resource" data-type="video">
    <div style="position: relative;">
      <span style="background-color: #E53935; color: white; font-size: 12px; padding: 2px 6px; border-radius: 4px; position: absolute; top: -10px; left: -10px;">ÙÙŠØ¯ÙŠÙˆ</span>
      <h3>ğŸ¥ Ø­ÙØ¸ Ø³ÙˆØ±Ø© Ø§Ù„ÙØ§ØªØ­Ø©</h3>
    </div>
    <p>Ø·Ø±ÙŠÙ‚Ø© Ù…Ù…ØªØ¹Ø© Ù„ØªØ­ÙÙŠØ¸ Ø§Ù„Ø£Ø·ÙØ§Ù„ Ø³ÙˆØ±Ø© Ø§Ù„ÙØ§ØªØ­Ø©.</p>
    <video controls width="100%"><source src="fatihah-hifdh.mp4" type="video/mp4"/></video>
    <a href="fatihah-hifdh.mp4" onclick="incrementDownload('fatihah-hifdh')" style="display: inline-block; background-color: #E53935; color: white; padding: 10px 20px; margin-top: 10px; border-radius: 8px; text-decoration: none; font-weight: bold;" target="_blank">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙˆØ±Ø©</a>
    <p style="font-size: 12px; color: gray; margin-top: 5px;">ğŸ“¥ ØªÙ… Ø§Ù„ØªØ­Ù…ÙŠÙ„ <span id="fatihah-hifdh-count">0</span> Ù…Ø±Ø©</p>
  </div>

  <a class="button" href="index.html">Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
</main>

<script>
  // Ø¥Ø¹Ø¯Ø§Ø¯ Firebase Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„Ø®Ø§ØµØ©
  const firebaseConfig = {
    apiKey: "AIzaSyD5KwuW84A57kzyKOWZBi0JHfqFr90fcf4",
    authDomain: "rawdah-library.firebaseapp.com",
    databaseURL: "https://rawdah-library-default-rtdb.firebaseio.com", // Ù‡Ø°Ø§ Ù…Ù‡Ù…!
    projectId: "rawdah-library",
    storageBucket: "rawdah-library.firebasestorage.app",
    messagingSenderId: "931349616439",
    appId: "1:931349616439:web:c7900b0b9c783a17666cb2"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¹Ø¯Ø§Ø¯Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§
  const counters = ["fatihah-audio", "arabic-cards-new", "fatihah-hifdh"];
  counters.forEach(key => {
    db.ref("downloads/" + key).on("value", snapshot => {
      document.getElementById(key + "-count").innerText = snapshot.val() || 0;
    });
  });

  // Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¹Ø¯Ø¯ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
  function incrementDownload(key) {
    const ref = db.ref("downloads/" + key);
    ref.transaction(current => (current || 0) + 1);
  }

  // ÙÙ„ØªØ±Ø© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
  function filterCards(type) {
    const cards = document.querySelectorAll(".resource");
    cards.forEach(card => {
      const cardType = card.getAttribute("data-type");
      card.style.display = (type === "all" || cardType === type) ? "block" : "none";
    });
  }
</script>
</body>
</html>
